(function(e){function t(t){for(var n,a,r=t[0],l=t[1],c=t[2],d=0,b=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(b.length)b.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},o={app:0},s=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},b5fd:function(e,t,i){"use strict";i("da50")},cd49:function(e,t,i){"use strict";i.r(t);i("1ec1");var n=i("fd00"),o=i("fa20");i("098d"),i("1303");n["default"].use(o["a"]);i("5e3a");var s,a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("b-container",{attrs:{id:"columns-container"}},[t("b-row",{staticClass:"justify-content-md-center",attrs:{"no-gutters":"",cols:"1","cols-sm":"1","cols-md":"2","cols-lg":"3","cols-xl":"4"}},[t("b-col",{attrs:{sm:"",xl:"3"}},[t("b-card",{staticClass:"status-card",attrs:{title:"Arknights Auto Helper","sub-title":e.version}},[t("b-input-group",{staticClass:"mt-3"},[t("b-input-group-prepend",{attrs:{"is-text":""}},[t("b-icon",{attrs:{icon:"plug-fill"}}),e._v("Device ")],1),t("b-input-group-append",{staticClass:"flex-grow-1"},[t("b-dropdown",{ref:"device_dropdown",staticClass:"flex-grow-1",attrs:{text:e.deviceName,right:""}},[t("b-dropdown-item",{attrs:{disabled:""}},[t("b",[e._v("Available devices")])]),e._l(e.availiableDevices,(function(i,n){return t("b-dropdown-item",{key:n,on:{click:function(t){return e.connectDevice("list:"+n)}}},[e._v(e._s(i))])})),t("b-dropdown-divider"),t("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.connect-device",modifiers:{"connect-device":!0}}]},[e._v("Connect another device...")])],2)],1)],1),t("div",{staticClass:"mt-3"},[e._v("Task queue "),t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"float-right",attrs:{title:"Remove selected items"}},[t("b-button",{attrs:{size:"sm",variant:"outline-danger",disabled:0==e.selectedPendingJob.length},on:{click:e.dequeueSelectedJobs}},[t("b-icon-trash")],1)],1)]),t("b-form-select",{staticClass:"mt-1",attrs:{options:e.pendingJobs,multiple:"","select-size":8},model:{value:e.selectedPendingJob,callback:function(t){e.selectedPendingJob=t},expression:"selectedPendingJob"}}),t("b-button",{staticClass:"mt-1",attrs:{block:"",size:"sm",variant:e.canPauseJob?"warning":"success",disabled:!(e.canPauseJob||e.canResumeJobQueue)},on:{click:e.toggleQueueState}},[t("b-icon",{attrs:{icon:e.canPauseJob?"pause-fill":"play-fill"}}),e._v(e._s(e.canPauseJob?"Pause":e.appRunning?"Continue":"Start")+" queue")],1),t("div",{staticClass:"mt-3"},[e._v("Status")]),t("b-input-group",[t("b-input-group-prepend",{attrs:{"is-text":""}},[t("b-icon",{attrs:{icon:"arrow-right"}})],1),t("b-form-input",{attrs:{readonly:"",value:e.currentJobTitle}})],1),t("b-input-group",{staticClass:"mt-1"},[t("b-input-group-prepend",{attrs:{"is-text":""}},[t("b-icon",{directives:[{name:"show",rawName:"v-show",value:!e.appRunning,expression:"!appRunning"}],attrs:{icon:"pause-circle"}}),t("b-icon",{directives:[{name:"show",rawName:"v-show",value:e.appRunning&&e.workerWaiting,expression:"appRunning && workerWaiting"}],attrs:{icon:"stopwatch"}}),t("b-spinner",{directives:[{name:"show",rawName:"v-show",value:e.appRunning&&!e.workerWaiting,expression:"appRunning && !workerWaiting"}],attrs:{small:""}})],1),t("b-form-input",{attrs:{readonly:"",value:e.timerText}}),t("b-input-group-append",[t("b-button",{attrs:{variant:"info",title:"Skip current wait",disabled:!(e.appRunning&&e.workerWaiting&&e.allowSkipWait)},on:{click:e.skipWait}},[t("b-icon-skip-forward-fill")],1),t("b-button",{attrs:{variant:"outline-danger",title:"Stop helper",disabled:!e.appRunning},on:{click:e.interruptWorker}},[t("b-icon-x-octagon",{attrs:{size:"sm"}})],1)],1)],1),e.debug?[t("b-form-checkbox",{model:{value:e.appRunning,callback:function(t){e.appRunning=t},expression:"appRunning"}},[e._v("app running")]),t("b-form-checkbox",{model:{value:e.workerWaiting,callback:function(t){e.workerWaiting=t},expression:"workerWaiting"}},[e._v("worker waiting")]),t("b-form-checkbox",{model:{value:e.allowSkipWait,callback:function(t){e.allowSkipWait=t},expression:"allowSkipWait"}},[e._v("allow skip wait")]),t("button",{on:{click:function(t){return e.loots.push(["Originite Prime",1919])}}},[e._v("add loot")])]:e._e()],2)],1),t("b-col",{attrs:{sm:"",xl:"6"}},[t("b-card-group",{staticClass:"ml-md-3 mx-lg-3",attrs:{columns:""}},[t("b-card",{staticClass:"action-card",attrs:{title:"Quick Start"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"clearfix"},[t("b-button-group",{staticClass:"float-right"},[t("b-button",{attrs:{disabled:e.appRunning},on:{click:function(t){e.goJob(e.getQuickStartJob())}}},[e._v("Go")]),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.enqueueJob(e.getQuickStartJob())}}},[e._v("Enqueue")])],1)],1)]},proxy:!0}])},[t("b-form",{staticClass:"mt-3"},[t("b-form-group",{attrs:{label:"Operation","label-for":"navigate-option","label-cols":"2","label-cols-xl":"12"}},[t("b-form-radio-group",{attrs:{id:"navigate-option",buttons:"","button-variant":"outline-secondary",size:"sm"},model:{value:e.onStage,callback:function(t){e.onStage=t},expression:"onStage"}},[t("b-form-radio",{attrs:{value:"current"}},[e._v("Current")]),t("b-form-radio",{attrs:{value:"navigate"}},[e._v("Custom")]),"navigate"==e.onStage?t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.choose-stage",modifiers:{"choose-stage":!0}}],attrs:{variant:"outline-secondary"}},[e._v(e._s(e.choosedStage))]):e._e()],1)],1),t("b-form-group",{attrs:{label:"Repeat count","label-for":"repeat-count","label-cols":"2","label-cols-xl":"12"}},[t("div",{staticClass:"d-flex flex-row align-items-center"},[t("b-form-input",{staticStyle:{width:"5em"},attrs:{id:"repeat-count",min:"0",max:"9999",type:"number"},model:{value:e.repeatCount,callback:function(t){e.repeatCount=t},expression:"repeatCount"}}),t("b-button-group",{staticClass:"ml-2",attrs:{size:"sm"}},[t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.repeatCount=1}}},[e._v("1")]),t("b-button",{attrs:{variant:"outline-secondary",disabled:0==e.repeatCount},on:{click:function(t){e.repeatCount--}}},[t("b-icon-dash")],1),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.repeatCount++}}},[t("b-icon-plus")],1),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.repeatCount=9999}}},[e._v("∞")])],1)],1)]),t("b-form-checkbox",{attrs:{name:"",switch:""},model:{value:e.refillWithItem,callback:function(t){e.refillWithItem=t},expression:"refillWithItem"}},[e._v("Use potions to restore sanity")]),t("b-form-checkbox",{staticClass:"mt-1",attrs:{name:"",switch:""},model:{value:e.refillWithOriginium,callback:function(t){e.refillWithOriginium=t},expression:"refillWithOriginium"}},[e._v("Use Originite Prime to restore sanity")]),t("b-form-group",{attrs:{size:"sm",label:"Restore at max","label-for":"refill-count","label-cols":"4"}},[t("div",{staticClass:"d-flex flex-row align-items-center"},[t("b-form-input",{staticStyle:{width:"5em"},attrs:{size:"sm",id:"refill-count",min:"0",max:"9999",type:"number"},model:{value:e.maxRefillCount,callback:function(t){e.maxRefillCount=t},expression:"maxRefillCount"}}),e._v("times "),t("b-button-group",{staticClass:"ml-2",attrs:{size:"sm"}},[t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"outline-secondary",title:"Number of sanity potions obtained per week"},on:{click:function(t){e.maxRefillCount=9,e.refillWithItem=!0}}},[e._v("9")]),t("b-button",{attrs:{variant:"outline-secondary",disabled:0==e.maxRefillCount},on:{click:function(t){e.maxRefillCount--}}},[e._v("－")]),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.maxRefillCount++,e.refillWithItem=!0}}},[e._v("＋")]),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.maxRefillCount=9999,e.refillWithItem=!0}}},[e._v("∞")])],1)],1)])],1)],1),t("b-card",{staticClass:"action-card",attrs:{title:"Collect mission rewards"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"clearfix"},[t("b-button-group",{staticClass:"float-right"},[t("b-button",{attrs:{disabled:e.appRunning},on:{click:function(t){e.goJob(e.getCollectJob())}}},[e._v("Go")]),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.enqueueJob(e.getCollectJob())}}},[e._v("Enqueue")])],1)],1)]},proxy:!0}])}),t("b-card",{staticClass:"action-card",attrs:{title:"Calculate recruitment tags"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"clearfix"},[t("b-button",{staticClass:"float-right",attrs:{disabled:e.appRunning},on:{click:e.recruit}},[e._v("Go")])],1)]},proxy:!0}])})],1)],1),t("b-col",{attrs:{sm:"",md:"12",xl:"3"}},[t("b-card",{staticClass:"status-card",attrs:{header:"Drops"}},[t("div",{staticClass:"d-flex flex-row flex-wrap align-content-start"},e._l(e.loots,(function([i,n]){return t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:i+"x"+n,staticClass:"item-container",attrs:{title:i}},[t("b-img",{staticClass:"item-icon",attrs:{alt:i,src:e.serverbase+"itemimg/"+encodeURIComponent(i)+".png"}}),t("b-badge",{staticClass:"item-qty-badge"},[e._v(e._s(n))])],1)})),0)])],1)],1)],1),t("div",{staticClass:"log-console bg-dark text-light"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.consoleExpanded,expression:"consoleExpanded"}],ref:"consoleDragger",staticClass:"dragger"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.consoleExpanded,expression:"consoleExpanded"}],ref:"consoleContainer",attrs:{id:"detailed-console"}}),t("div",{attrs:{id:"status-line"},on:{click:e.toggleConsole}},[t("b-button",{attrs:{size:"sm",squared:""}},[t("b-icon",{attrs:{icon:e.consoleExpanded?"chevron-bar-down":"chevron-bar-up"}})],1),t("div",{staticClass:"ml-2",attrs:{id:"last-console-line"}},[t("span",{staticClass:"align-middle"},[e._v(e._s(e.lastConsoleLine))])])],1)]),t("b-modal",{attrs:{id:"connect-device",title:"Enter device"},on:{ok:e.confirmConnectDevice}},[e._v(" TODO protocol: adb "),t("b-form-input",{model:{value:e.deviceToConnect,callback:function(t){e.deviceToConnect=t},expression:"deviceToConnect"}})],1),t("b-modal",{attrs:{id:"choose-stage",title:"Select operation"},on:{show:e.chooseStageShown,ok:e.chooseStageConfirm}},[e._v(" TODO "),t("b-form-input",{model:{value:e.newChoosedStage,callback:function(t){e.newChoosedStage=t},expression:"newChoosedStage"}})],1),t("b-modal",{attrs:{id:"recruit-modal",title:"Recruitment"},model:{value:e.showRecruitResult,callback:function(t){e.showRecruitResult=t},expression:"showRecruitResult"}},[e._l(e.recruitResult,(function(i){return[i[1].length>0?[t("div",{key:i[0].join(",")},[t("b-button-group",{attrs:{size:"sm"}},e._l(i[0],(function(n){return t("b-button",{key:n,attrs:{variant:(i[2]<1?"outline-":"")+"dark"}},[e._v(e._s(n))])})),1),t("div",{staticClass:"mt-1"},e._l(i[1],(function(n){return t("b-button",{key:n[0],staticClass:"mr-1",attrs:{size:"sm",variant:(i[2]<1?"outline-":"")+e.rarityMap[n[1]]}},[e._v(e._s(n[0]))])})),1),t("hr")],1)]:e._e()]}))],2),t("div",{attrs:{id:"alert-container"}},e._l(e.alerts,(function(i){return t("b-toast",{key:i.id,attrs:{visible:"",fade:"",dismissible:"",title:i.title,variant:i.level},on:{hidden:function(t){return e.clearAlert(i.id)}}},[t("p",{staticClass:"alert-text"},[e._v(e._s(i.message))])])})),1)],1)},r=[],l=i("3e2d"),c=(i("4844"),i("7033")),u=i("2c48");function d(e,t=null){return new Promise(i=>{const n=new IntersectionObserver(([e])=>{i(1===e.intersectionRatio),n.disconnect()},{root:t});n.observe(e)})}n["default"].use(u["a"]);let b=Object(c["a"])(s=class extends n["default"]{constructor(...e){super(...e),Object(l["a"])(this,"debug",!1),Object(l["a"])(this,"serverbase",""),Object(l["a"])(this,"version","loading"),Object(l["a"])(this,"deviceName","(auto)"),Object(l["a"])(this,"availiableDevices",["adb:127.0.0.1:5555","adb:127.0.0.1:7555"]),Object(l["a"])(this,"deviceToConnect",""),Object(l["a"])(this,"onStage","current"),Object(l["a"])(this,"choosedStage","1-7"),Object(l["a"])(this,"newChoosedStage",""),Object(l["a"])(this,"repeatCount",9999),Object(l["a"])(this,"appRunning",!1),Object(l["a"])(this,"timerText",""),Object(l["a"])(this,"loots",[]),Object(l["a"])(this,"workerWaiting",!0),Object(l["a"])(this,"allowSkipWait",!0),Object(l["a"])(this,"drainingJobQueue",!1),Object(l["a"])(this,"refillWithItem",!1),Object(l["a"])(this,"refillWithOriginium",!1),Object(l["a"])(this,"maxRefillCount",0),Object(l["a"])(this,"selectedPendingJob",[]),Object(l["a"])(this,"consoleExpanded",!1),Object(l["a"])(this,"lastConsoleLine","shit"),Object(l["a"])(this,"currentJobTitle","Idle"),Object(l["a"])(this,"pendingJobs",[]),Object(l["a"])(this,"alerts",[]),Object(l["a"])(this,"showRecruitResult",!1),Object(l["a"])(this,"recruitResult",[]),Object(l["a"])(this,"rarityMap",["info","secondary","success","primary","warning","danger"])}get canResumeJobQueue(){return this.pendingJobs.length>0&&(!this.drainingJobQueue||!this.appRunning)}get canPauseJob(){return this.appRunning&&this.pendingJobs.length>0&&this.drainingJobQueue}mounted(){let e;this.lastelm=null,this.currentWaitInterval=null,this.pendingCalls=new Map,this.serverbase="",e=location.href;let t=new URL("ws",e);t.protocol=t.protocol.replace(/^http/,"ws");let i=new WebSocket(t.toString());this.callSequence=0,this.ws=i,i.addEventListener("message",e=>{if("string"===typeof e.data){let t=JSON.parse(e.data);Object.prototype.hasOwnProperty.call(t,"type")&&this.onReceived(t)}});let n=this.$refs.consoleDragger,o=this.$refs.consoleContainer;n.addEventListener("mousedown",(function(e){e.preventDefault(),this.draginitY=e.pageY;let t=n,i=o.getBoundingClientRect().height,s=function(e){e.preventDefault();let n=e.pageY-t.draginitY,s=i-n;o.style.height=s+"px"};document.addEventListener("mousemove",s);let a=function(e){e.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a)}))}beforeDestroy(){this.ws.close()}addConsoleLine(e,t="info"){this.lastConsoleLine=e.trimEnd().split("\n").pop();let i=document.createElement("p");i.innerText=e,i.classList.add("log-"+t);let n=this.$refs.consoleContainer;n.appendChild(i),n.childElementCount>1e3&&n.firstElementChild.remove(),this.lastelm&&d(this.lastelm,n).then(e=>{e?(console.log("last line visible"),n.scrollTop=i.offsetTop):console.log("last line invisible")}),this.lastelm=i}scrollConsoleToLast(){this.$nextTick(()=>{this.$refs.consoleContainer.lastElementChild.scrollIntoView()})}toggleConsole(){console.log("Toggle button clicked"),this.consoleExpanded=!this.consoleExpanded,this.consoleExpanded&&this.scrollConsoleToLast()}getQuickStartJob(){let e={value:"Job@"+ +new Date,text:"",action:[]},t="current"===this.onStage?"Current operation":"["+this.choosedStage+"]",i=parseInt(this.repeatCount),n=t+"×"+i;return this.refillWithItem&&(n+=" using potions"),this.refillWithOriginium&&(n+=" using Originite Prime"),e.text=n,e.action.push({name:"worker:set_refill_with_item",args:[this.refillWithItem]}),e.action.push({name:"worker:set_refill_with_originium",args:[this.refillWithOriginium]}),(this.refillWithItem||this.refillWithOriginium)&&e.action.push({name:"worker:set_max_refill_count",args:[parseInt(this.maxRefillCount)]}),"current"===this.onStage?e.action.push({name:"worker:module_battle_slim",args:[i]}):e.action.push({name:"worker:module_battle",args:[this.choosedStage,i]}),console.log(e),e}getCollectJob(){return{value:"Job@"+ +new Date,text:"Receiving mission rewards",action:[{name:"worker:clear_task",args:[]}]}}async goJob(e,t=!1){this.appRunning=!0,this.currentJobTitle=e.text;for(let i of e.action)try{await this.callRemote(i.name,i.args)}catch{this.drainingJobQueue=!1;break}!t&&this.drainingJobQueue&&this.$nextTick(()=>this.runJobQueue()),this.drainingJobQueue||this.setAppIdle()}sendMessage(e){console.log("sending message",e),this.ws.send(JSON.stringify(e))}skipWait(){this.sendMessage({type:"web:skip"})}interruptWorker(){this.sendMessage({type:"web:interrupt"})}callRemote(e,t=[]){console.log("calling",e,"with args",t);let i="Call#"+this.callSequence+"@"+ +new Date;return this.callSequence++,this.ws.send(JSON.stringify({type:"call",action:e,args:t,tag:i})),new Promise((n,o)=>{this.pendingCalls.set(i,{action:e,args:t,resolve:n,reject:o})})}enqueueJob(e){let t=this.pendingJobs.length;this.pendingJobs.push(e),0===t&&(this.drainingJobQueue=!0)}dequeueSelectedJobs(){console.log(this.selectedPendingJob);for(let e of this.selectedPendingJob){let t=this.pendingJobs.splice(this.pendingJobs.findIndex(t=>t.value===e),1);console.log(t)}}toggleQueueState(){this.appRunning?this.drainingJobQueue=!this.drainingJobQueue:this.runJobQueue()}async runJobQueue(){this.drainingJobQueue=!0,this.appRunning=!0;while(this.drainingJobQueue&&this.pendingJobs.length>0)await this.goJob(this.pendingJobs.shift(),!0);this.setAppIdle()}confirmConnectDevice(){return this.connectDevice("adb:"+this.deviceToConnect)}async connectDevice(e){this.appRunning=!0,this.workerWaiting=!1;try{return await this.callRemote("web:connect",[e])}finally{this.appRunning=!1}}setAppIdle(){this.appRunning=!1,this.currentJobTitle="Idle"}onReceived(e){switch(console.log("received message",e),e.type){case"need-authorize":this.onNeedAuthorize();break;case"notify":this.onNotify(e.name,e.value);break;case"alert":this.showAlert(e);break;case"idle":this.onWorkerIdle();break;case"update-wait":this.onWait(e.duration,e.allow_skip);break;case"authorized":this.onAuthorized();break;case"log":this.addConsoleLine(e.message,e.level);break;case"call-result":this.onCallResult(e);break;default:break}}onNeedAuthorize(){let e=new URL(location.href).searchParams.get("token");this.sendMessage({type:"web:authorize",token:e})}onWorkerIdle(){}onWait(e,t){if(null!==this.currentWaitInterval&&clearInterval(this.currentWaitInterval),0==e)return this.workerWaiting=!1,void(this.timerText="");this.workerWaiting=!0,this.allowSkipWait=t;let i=+new Date/1e3;this.timerText="0/"+e.toFixed(0),this.currentWaitInterval=setInterval(()=>{let t=+new Date/1e3,n=t-i;this.timerText=n.toFixed(0)+"/"+e.toFixed(0),n>=e&&clearInterval(this.currentWaitInterval)},1e3)}onNotify(e,t){switch(console.log("update value",e,"=",t),e){case"current-device":this.deviceName=t.toString();break;case"web:availiable-devices":this.availiableDevices=t;break;case"web:version":this.version=t.toString();break;case"web:show-devices":this.$refs.device_dropdown.show();break;case"wait":this.onWait(t.duration,t.allow_skip);break;case"loots":this.loots=Object.entries(t);break;default:break}}onCallResult(e){let t=e.tag,i=this.pendingCalls.get(t);if(this.pendingCalls.delete(t),Object.prototype.hasOwnProperty.call(i,"resolve"))if("resolved"==e.status)i.resolve(e.return_value);else{let t=e.exception,n=new Error(t.message);n.stack=t.trace,this.showAlert({level:"error",title:"Exception in RPC invocation ",message:"Invocation: "+JSON.stringify({action:i.action,args:i.args})+"\n"+t.message}),this.addConsoleLine(t.message.join(),"error"),this.addConsoleLine(t.trace,"error"),this.consoleExpanded||this.toggleConsole(),i.reject(n)}}showAlert({level:e,title:t,message:i,details:n}){console.log("alert",e,i);let o="alert@"+ +new Date;"error"===e&&(e="danger"),this.alerts.push({id:o,level:e,title:t,message:i,details:n})}clearAlert(e){let t=this.alerts.findIndex(t=>t.id===e);this.alerts.splice(t,1)}async recruit(){this.recruitResult=await this.callRemote("worker:recruit"),this.showRecruitResult=!0}chooseStageShown(){this.newChoosedStage=this.choosedStage}chooseStageConfirm(){this.choosedStage=this.newChoosedStage}})||s;var p=b,h=(i("b5fd"),i("f900")),g=Object(h["a"])(p,a,r,!1,null,null,null),m=g.exports;n["default"].config.productionTip=!1,new n["default"]({render:e=>e(m)}).$mount("#app")},da50:function(e,t,i){}});
//# sourceMappingURL=app.1ba2365d.js.map